@page
@model ProfileModel
@{
	ViewData["Title"] = "Profile";
}
<div class="text-lg-start">
	<h1> Velkommen @Model.UserMe.FirstName </h1>
</div>
<div>
	<h3>Dine bookninger</h3>
	<table class="table">
		<thead>
			<tr>
				<th>Date and Time</th>
				<th>Machine</th>
				@* <th>Remove booking?</th> *@
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>@Model.Bookings.DateAndTime</td>
				<td>@Model.Bookings.MachineIDs[0]</td>
@* 				<td><input type="submit" value="Delete" /></td> *@
			</tr>
		</tbody>
	</table>
</div>
@if (Model.UserMe.IsAdmin == true)
{
	<div>
		<h3>Alle Brugere</h3>
		<table class="table">
			<thead>
				<tr>
					<th>UserID</th>
					<th>Fornavn</th>
					<th>Efternavn</th>
					<th>Bolig</th>
					<th>Administrator</th>
					@* <th>Fjern</th> *@
				</tr>
			</thead>
			@* 			@for (int i = 0; i < @Model.Users.Count; i++) *@
			@foreach (VaskEnTidLib.Model.User SpecificUser in @Model.Users)
			{
				<form method="post" asp-page-handler="DeleteUser">
				<tbody>
					<tr>
						<td>@SpecificUser.UserID</td>
						<td>@SpecificUser.FirstName</td>
						<td>@SpecificUser.LastName</td>
						<td>@SpecificUser.DomicileID[0]</td>
						<td>@SpecificUser.IsAdmin</td>
						<input type="hidden" name="UserMe" value="@Model.UserMe" asp-for="UserMe" />
						<input type="hidden" name="TempUser" value="@SpecificUser" asp-for="TempUser" />
						@* <td><input type="submit" value="Delete" /></td> *@
					</tr>
				</tbody>
				</form>
			}
		</table>
		<h3>Lav Bruger</h3>
		<form method="post" asp-page-handler="CreateUser">
			<div class="mb-3 mt-3">
				<input type="text" asp-for="CreateFirstName" class="form-label" value="Fornavn" />
				<input type="text" asp-for="CreateLastName" class="form-label" value="Efternavn" />
				<input type="text" asp-for="CreatePhone" class="form-label" value="Telefon nummer" />
				<input type="text" asp-for="CreateDomicileID" class="form-label" value="Hus ID" />
				<input type="text" asp-for="CreateEmail" class="form-label" value="Email" />
				<input type="text" asp-for="CreatePassword" class="form-label" value="Password" />
				<h6>Er det en administrator?</h6>
				<input type="checkbox" asp-for="CreateAdmin" class="form-check" />
				<input type="hidden" name="UserMe" value="@Model.UserMe" asp-for="UserMe" />
				<input type="submit" value="CreateUser" />
			</div>
		</form>
	</div>
}

